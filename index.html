<!DOCTYPE html>
<html>
<head>
    <title>Hello React</title>
    <script src="https://unpkg.com/react@16.9.0/umd/react.development.js" ></script>
    <script src="https://unpkg.com/react-dom@16.9.0/umd/react-dom.development.js" ></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js" ></script>
    <script src="https://code.jquery.com/jquery-3.4.1.js"></script>
    <link rel="stylesheet" href="style.css">
    <script src="resursering.js"></script>
    <script src="testjs.js"></script>
    <script src="personal.js"></script>
    <meta charset="utf-8">

</head>
<body>
<div id="menuDiv"></div>
    <script type="text/javascript"> 
    document.onload = mytime=setTimeout('remind(30)',1800000)
    function remind(msg1) { 
    var msg = "Du har varit på denna sida i " + msg1 +" minuter";
    alert(msg); 
    }
    </script>
<script>    
    $(document).ready(function(){
      $(".slide-button").click(function(){     //SLIDE alla <p>, funkar int nu alls typ | borde funka nu =-)
        $(this).parent().next('.moro').slideToggle();
        console.log(this);
      });
    });
    </script>


    
<div id="textAreasDiv">


        <div id="larare" class="text-areas">
                
        </div>
    
        <div id="kurser" class="text-areas">
                
        </div>
            
</div>
    
    <script type="text/babel">
    function Welcome(props) {
        return <div><h1>Hi {props.name}</h1></div>;
    }

    function Menus(props) {
        return (            
        <div id={props.id}>
            <h3>{props.title}</h3>
                <select className="drop" id={props.selectId} onChange={props.selectFunc}>
                       {props.options} 
                </select> 
        </div>
        );
    }

    function Input(props) {
        return (
            <div id={props.id}>
                <h3>{props.title}</h3>
                <input type={props.type} placeholder="Hours..." name="hourInput" min={0} max={100} />
            </div>
        );
    }

    function Period(props) {
        return (
        <div id={props.id}>
            <h3>{props.title}</h3>
            <input type="checkbox" name="period1" value="1"/>P1
            <input type="checkbox" name="period1" value="1"/>P2
            <input type="checkbox" name="period1" value="1"/>P3
            <input type="checkbox" name="period1" value="1"/>P4
        </div>
        );
    }

    function Submit(props) {
        return(
            <button type="submit" className="submit-button" onClick={entryOutput}>Add Entry</button>
        );
    }

    function Entry(props) {
        return(
        <div id="entryDiv">
            <table id="entry-table">
                <thead>
                    <tr>
                        <th>WHO</th>
                        <th>WHERE</th>
                        <th>HOW MUCH</th>
                        <th>PERIOD</th>
                    </tr>
                </thead>
                <tbody>
                    {props.entries}
                </tbody>
            </table>
        </div>
        );
    }

    // Loopar genom all personal, skickar som en array (mappar()) till Menus
    function loopPersonal() {  
        var personal = [];
        for (var i=0; i < jsonPersonal.Personal.length; i++) {
            personal.push(<option key={i} value={i}>{jsonPersonal.Personal[i].Förnamn + " " + jsonPersonal.Personal[i].Efternamn}</option>);
        }
            var elements = [];
            elements = personal.map(Menus);
            return personal;
    }

    function loopKurser() {  
        var kurser = [];
        var kurserJSON = dataJSON.Program.IA.Kurser;
        for (var i=0; i < kurserJSON.length; i++) {
            kurser.push(<option key={i} value={i}>{kurserJSON[i].namn}</option>);
        }
            var elements = [];
            elements = kurser.map(Menus);
            return kurser;
    }

    function entryOutput(larare, kurs) {
        var larare = document.getElementById('select-larare');
        var option1 = larare.options[larare.selectedIndex].text;

        var kurs = document.getElementById('select-kurs');
        var option2 = kurs.options[kurs.selectedIndex].text;

        var MyTable = document.getElementById("entry-table");
        var NewRow = MyTable.insertRow(1); 
        var Newcell1 = NewRow.insertCell(0); 
        var Newcell2 = NewRow.insertCell(1); 
        Newcell1.innerHTML = option1; 
        Newcell2.innerHTML = option2; 

        console.log(option1);
        console.log(option2);
    }

    ReactDOM.render( 
        <>
        <Menus id="menu1" title="Who" className="drop1" selectId="select-larare" options={loopPersonal()} />
        <Menus id="menu2" title="Where" className="drop2" selectId="select-kurs" options={loopKurser()} />
        <Input id="menu3" title="How Much" type="number" />
        <Period id="menu4" title="Period" />
        <Submit />
        <Entry />
        </>,
        document.getElementById("menuDiv") 
        );
    
        
    </script>
    <script>
   document.getElementById('larare').innerHTML = lararna;
   document.getElementById('kurser').innerHTML = kurs; //sätter objekt till strängar och skriver ut dem
    </script>
</body>
</html>