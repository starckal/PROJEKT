<!DOCTYPE html>
<html>
<head>
    <title>Hello React</title>
    <script src="https://unpkg.com/react@16.9.0/umd/react.development.js" ></script>
    <script src="https://unpkg.com/react-dom@16.9.0/umd/react-dom.development.js" ></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js" ></script>
    <script src="https://code.jquery.com/jquery-3.4.1.js"></script>
    <link rel="stylesheet" href="style.css">
    <script src="resursering.js"></script>
    <script src="testjs.js"></script>
    <script src="personal.js"></script>
    <meta charset="utf-8">

</head>
<body>
<div id="menuDiv"></div>
    <script type="text/javascript"> 
    document.onload = mytime=setTimeout('remind(30)',1800000)
    function remind(msg1) { 
    var msg = "Du har varit på denna sida i " + msg1 +" minuter";
    alert(msg); 
    }
    </script>
<script>    
    $(document).ready(function(){
      $(".slide-button").click(function(){     //SLIDE alla <p>, funkar int nu alls typ | borde funka nu =-)
        $(this).parent().next('.moro').slideToggle();
        console.log(this);
      });
    });
    </script>


    
<div id="textAreasDiv">


        <div id="larare" class="text-areas">
                
        </div>
    
        <div id="kurser" class="text-areas">
                
        </div>
            
</div>
    
    <script type="text/babel">
    function Welcome(props) {
        return <div><h1>Hi {props.name}</h1></div>;
    }

    function Menus(props) {
        return (            
        <div id={props.id}>
            <h3>{props.title}</h3>
                <select className="drop" id={props.selectId} onChange={props.selectFunc}>
                       {props.options} 
                </select> 
        </div>
        );
    }

    function Input(props) {
        return (
            <div id={props.id}>
                <h3>{props.title}</h3>
                <input id={props.inputId} type={props.type} placeholder="Hours..." name="hourInput" min={0} max={100} />
            </div>
        );
    }

    function Period(props) {
        return (
        <div id={props.id}>
            <h3>{props.title}</h3>
            <input className="test" type="checkbox" name="period1" value="P1"/>P1
            <input className="test" type="checkbox" name="period2" value="P2"/>P2
            <input className="test" type="checkbox" name="period3" value="P3"/>P3
            <input className="test" type="checkbox" name="period4" value="P4"/>P4
        </div>
        );
    }

    function Submit(props) {
        return(
            <button type="submit" className="submit-button" onClick={entryOutput}>Add Entry</button>
        );
    }

    function Entry(props) {
        return(
        <div id="entryDiv">
            <table id="entry-table">
                <thead>
                    <tr>
                        <th>WHO</th>
                        <th>WHERE</th>
                        <th>HOW MUCH</th>
                        <th>PERIOD</th>
                    </tr>
                </thead>
                <tbody>
                    {props.entries}
                </tbody>
            </table>
        </div>
        );
    }

    // Loopar genom all personal, skickar som en array (mappar()) till Menus
    function loopPersonal() {  
        var personal = [];
        for (var i=0; i < jsonPersonal.Personal.length; i++) {
            personal.push(<option key={i} value={i}>{jsonPersonal.Personal[i].Förnamn + " " + jsonPersonal.Personal[i].Efternamn}</option>);
        }
            var elements = [];
            elements = personal.map(Menus);
            return personal;
    }

    function loopKurser() {  
        var kurser = [];
        var kurserJSON = dataJSON.Program.IA.Kurser;
        for (var i=0; i < kurserJSON.length; i++) {
            kurser.push(<option key={i} value={i}>{kurserJSON[i].namn}</option>);
        }
            var elements = [];
            elements = kurser.map(Menus);
            return kurser;
    }
    var cont0h = 0;
    var cont1h = 0;
    var cont2h = 0;
    var cont3h = 0;
    var cont4h = 0;
    var cont5h = 0;
    var cont6h = 0;
    var cont7h = 0;
    var cont8h = 0;
    var cont9h = 0;
    var cont10h = 0;
    var cont11h = 0;
    var cont12h = 0;


    
    function entryOutput(larare, kurs) {
        var larare = document.getElementById('select-larare');
        var option1 = larare.options[larare.selectedIndex].text;

        var kurs = document.getElementById('select-kurs');
        var option2 = kurs.options[kurs.selectedIndex].text;

        var hours = document.getElementById('inputHours');
        var option3 = inputHours.value.toString();

        var period = document.querySelector('.test:checked').value;
        var txt = '';
        var i;
        for (i=0; i < period.length; i++) {
            if (period[i].checked) {
                txt = txt + period[i].value;
            } 
        }
        
        if((inputHours.value == "") || (inputHours.value == "0")) {
            alert("Sätt in timmar");
        } else {
            var MyTable = document.getElementById("entry-table");
            var NewRow = MyTable.insertRow(1); 
            var Newcell1 = NewRow.insertCell(0); 
            var Newcell2 = NewRow.insertCell(1);
            var NewCell3 = NewRow.insertCell(2); 
            var NewCell4 = NewRow.insertCell(3);
            Newcell1.innerHTML = option1; 
            Newcell2.innerHTML = option2; 
            NewCell3.innerHTML = option3 + "h";
            NewCell4.innerHTML = period;
        }

        if(option1 == "Dennis Biström"){
        document.getElementById("cont-0").innerHTML += option2 + " " + parseInt(inputHours.value) +"h</br>";
         cont0h = cont0h + parseInt(inputHours.value); 
         if(cont0h > 800){
            document.getElementsByClassName('slide-button')[0].style.backgroundColor = "yellow";
        }
        if(cont0h > 1300){
            document.getElementsByClassName('slide-button')[0].style.backgroundColor = "red";
        }
        }


        if(option1 == "Magnus Westerlund"){
        document.getElementById("cont-1").innerHTML += option2 + " " + parseInt(inputHours.value) +"h</br>";
         cont1h = cont1h + parseInt(inputHours.value); 
         if(cont1h > 800){
            document.getElementsByClassName('slide-button')[1].style.backgroundColor = "yellow";
        }
        if(cont1h > 1300){
            document.getElementsByClassName('slide-button')[1].style.backgroundColor = "red";
        }
        }

        
        if(option1 == "Jonny Karlsson"){
        document.getElementById("cont-2").innerHTML += option2 + " " + parseInt(inputHours.value) +"h</br>";
         cont2h = cont2h + parseInt(inputHours.value); 
         if(cont2h > 800){
            document.getElementsByClassName('slide-button')[2].style.backgroundColor = "yellow";
        }
        if(cont2h > 1300){
            document.getElementsByClassName('slide-button')[2].style.backgroundColor = "red";
        }
        }
    
    

    
        if(option1 == "Dan Granqvist"){
        document.getElementById("cont-3").innerHTML += option2 + " " + parseInt(inputHours.value) +"h</br>";
         cont3h = cont3h + parseInt(inputHours.value); 
         if(cont3h > 800){
            document.getElementsByClassName('slide-button')[3].style.backgroundColor = "yellow";
        }
        if(cont3h > 1300){
            document.getElementsByClassName('slide-button')[3].style.backgroundColor = "red";
        }
        }
    
    
        if(option1 == "Richard Weber"){
        document.getElementById("cont-4").innerHTML += option2 + " " + parseInt(inputHours.value) +"h</br>";
         cont4h = cont4h + parseInt(inputHours.value); 
         if(cont4h > 800){
            document.getElementsByClassName('slide-button')[4].style.backgroundColor = "yellow";
        }
        if(cont4h > 1300){
            document.getElementsByClassName('slide-button')[4].style.backgroundColor = "red";
        }
        }
    
    
        if(option1 == "Pekka Butler"){
        document.getElementById("cont-5").innerHTML += option2 + " " + parseInt(inputHours.value) +"h</br>";
         cont5h = cont5h + parseInt(inputHours.value); 
         if(cont5h > 800){
            document.getElementsByClassName('slide-button')[5].style.backgroundColor = "yellow";
        }
        if(cont5h > 1300){
            document.getElementsByClassName('slide-button')[5].style.backgroundColor = "red";
        }
        }
    
    
        if(option1 == "Robin Wikström"){
        document.getElementById("cont-6").innerHTML += option2 + " " + parseInt(inputHours.value) +"h</br>";
         cont6h = cont6h + parseInt(inputHours.value); 
         if(cont6h > 800){
            document.getElementsByClassName('slide-button')[6].style.backgroundColor = "yellow";
        }
        if(cont6h > 1300){
            document.getElementsByClassName('slide-button')[6].style.backgroundColor = "red";
        }
        }
    
    
        if(option1 == "Kaj-Mikael Björk"){
        document.getElementById("cont-7").innerHTML += option2 + " " + parseInt(inputHours.value) +"h</br>";
         cont7h = cont7h + parseInt(inputHours.value); 
         if(cont7h > 800){
            document.getElementsByClassName('slide-button')[7].style.backgroundColor = "yellow";
        }
        if(cont7h > 1300){
            document.getElementsByClassName('slide-button')[7].style.backgroundColor = "red";
        }
        }
    
    
        if(option1 == "Joachim Enkvist"){
        document.getElementById("cont-8").innerHTML += option2 + " " + parseInt(inputHours.value) +"h</br>";
         cont8h = cont8h + parseInt(inputHours.value); 
         if(cont8h > 800){
            document.getElementsByClassName('slide-button')[8].style.backgroundColor = "yellow";
        }
        if(cont8h > 1300){
            document.getElementsByClassName('slide-button')[8].style.backgroundColor = "red";
        }
        }
    
    
        if(option1 == "Andrey Shcherbakov"){
        document.getElementById("cont-9").innerHTML += option2 + " " + parseInt(inputHours.value) +"h</br>";
         cont9h = cont9h + parseInt(inputHours.value); 
         if(cont9h > 800){
            document.getElementsByClassName('slide-button')[9].style.backgroundColor = "yellow";
        }
        if(cont9h > 1300){
            document.getElementsByClassName('slide-button')[9].style.backgroundColor = "red";
        }
        }
    
    
        if(option1 == "Leonardo Espinosa Leal"){
        document.getElementById("cont-10").innerHTML += option2 + " " + parseInt(inputHours.value) +"h</br>";
         cont10h = cont10h + parseInt(inputHours.value); 
         if(cont10h > 800){
            document.getElementsByClassName('slide-button')[10].style.backgroundColor = "yellow";
        }
        if(cont10h > 1300){
            document.getElementsByClassName('slide-button')[10].style.backgroundColor = "red";
        }
        }
    
    
        if(option1 == "Anton Akusok"){
        document.getElementById("cont-11").innerHTML += option2 + " " + parseInt(inputHours.value) +"h</br>";
         cont11h = cont11h + parseInt(inputHours.value); 
         if(cont11h > 800){
            document.getElementsByClassName('slide-button')[11].style.backgroundColor = "yellow";
        }
        if(cont11h > 1300){
            document.getElementsByClassName('slide-button')[11].style.backgroundColor = "red";
        }
        }
    
    
        if(option1 == "Shuhua Liu"){
        document.getElementById("cont-12").innerHTML += option2 + " " + parseInt(inputHours.value) +"h</br>";
         cont12h = cont12h + parseInt(inputHours.value); 
         if(cont12h > 800){
            document.getElementsByClassName('slide-button')[12].style.backgroundColor = "yellow";
        }
        if(cont12h > 1300){
            document.getElementsByClassName('slide-button')[12].style.backgroundColor = "red";
        }
        }
    
    }

    ReactDOM.render( 
        <>
        <Menus id="menu1" title="Who" className="drop1" selectId="select-larare" options={loopPersonal()} />
        <Menus id="menu2" title="Where" className="drop2" selectId="select-kurs" options={loopKurser()} />
        <Input id="menu3" inputId="inputHours" title="How Much" type="number" />
        <Period id="menu4" title="Period" />
        <Submit />
        <Entry />
        </>,
        document.getElementById("menuDiv") 
        );
    
        
    </script>
    <script>
   document.getElementById('larare').innerHTML = lararna;
   document.getElementById('kurser').innerHTML = kurs; //sätter objekt till strängar och skriver ut dem
    </script>
</body>
</html>